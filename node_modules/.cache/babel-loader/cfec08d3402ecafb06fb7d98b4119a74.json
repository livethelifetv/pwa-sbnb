{"ast":null,"code":"import _slicedToArray from \"/Users/proprietaire/Desktop/PWA-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/proprietaire/Desktop/PWA-master/src/container/Listing/Listing.js\";\nimport React, { useState, Fragment } from 'react';\nimport Sticky from 'react-stickynode';\nimport Toolbar from 'components/UI/Toolbar/Toolbar';\nimport Checkbox from 'components/UI/Antd/Checkbox/Checkbox';\nimport CategotySearch from 'components/Search/CategorySearch/CategotySearch';\nimport { PostPlaceholder } from 'components/UI/ContentLoader/ContentLoader';\nimport SectionGrid from 'components/SectionGrid/SectionGrid';\nimport ListingMap from './ListingMap';\nimport FilterDrawer from 'components/Search/MobileSearchView';\nimport useWindowSize from 'library/hooks/useWindowSize';\nimport useDataApi from 'library/hooks/useDataApi';\nimport { SINGLE_POST_PAGE } from 'settings/constant';\nimport ListingWrapper, { PostsWrapper, ShowMapCheckbox } from './Listing.style';\nexport default function Listing({\n  location,\n  history\n}) {\n  let url = '/data/hotel.json';\n\n  const _useWindowSize = useWindowSize(),\n        width = _useWindowSize.width;\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        showMap = _useState2[0],\n        setShowMap = _useState2[1];\n\n  const _useDataApi = useDataApi(url),\n        data = _useDataApi.data,\n        loading = _useDataApi.loading,\n        loadMoreData = _useDataApi.loadMoreData,\n        total = _useDataApi.total,\n        limit = _useDataApi.limit;\n\n  let columnWidth = [1 / 1, 1 / 2, 1 / 3, 1 / 4, 1 / 5];\n\n  if (location.search) {\n    url += location.search;\n  }\n\n  if (showMap) {\n    columnWidth = [1 / 1, 1 / 2, 1 / 2, 1 / 2, 1 / 3];\n  }\n\n  const handleMapToggle = () => {\n    setShowMap(showMap => !showMap);\n  };\n\n  return /*#__PURE__*/React.createElement(ListingWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Sticky, {\n    top: 82,\n    innerZ: 999,\n    activeClass: \"isHeaderSticky\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    left: width > 991 ? /*#__PURE__*/React.createElement(CategotySearch, {\n      history: history,\n      location: location,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(FilterDrawer, {\n      history: history,\n      location: location,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 15\n      }\n    }),\n    right: /*#__PURE__*/React.createElement(ShowMapCheckbox, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      defaultChecked: false,\n      onChange: handleMapToggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }\n    }, \"Show map\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PostsWrapper, {\n    className: width > 767 && showMap ? 'col-12' : 'col-24',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SectionGrid, {\n    link: SINGLE_POST_PAGE,\n    columnWidth: columnWidth,\n    data: data,\n    totalItem: total.length,\n    loading: loading,\n    limit: limit,\n    handleLoadMore: loadMoreData,\n    placeholder: /*#__PURE__*/React.createElement(PostPlaceholder, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 26\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  })), showMap && /*#__PURE__*/React.createElement(ListingMap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/proprietaire/Desktop/PWA-master/src/container/Listing/Listing.js"],"names":["React","useState","Fragment","Sticky","Toolbar","Checkbox","CategotySearch","PostPlaceholder","SectionGrid","ListingMap","FilterDrawer","useWindowSize","useDataApi","SINGLE_POST_PAGE","ListingWrapper","PostsWrapper","ShowMapCheckbox","Listing","location","history","url","width","showMap","setShowMap","data","loading","loadMoreData","total","limit","columnWidth","search","handleMapToggle","length"],"mappings":"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","sourcesContent":["import React, { useState, Fragment } from 'react';\nimport Sticky from 'react-stickynode';\nimport Toolbar from 'components/UI/Toolbar/Toolbar';\nimport Checkbox from 'components/UI/Antd/Checkbox/Checkbox';\nimport CategotySearch from 'components/Search/CategorySearch/CategotySearch';\nimport { PostPlaceholder } from 'components/UI/ContentLoader/ContentLoader';\nimport SectionGrid from 'components/SectionGrid/SectionGrid';\nimport ListingMap from './ListingMap';\nimport FilterDrawer from 'components/Search/MobileSearchView';\nimport useWindowSize from 'library/hooks/useWindowSize';\nimport useDataApi from 'library/hooks/useDataApi';\nimport { SINGLE_POST_PAGE } from 'settings/constant';\n\nimport ListingWrapper, { PostsWrapper, ShowMapCheckbox } from './Listing.style';\n\nexport default function Listing({ location, history }) {\n  let url = '/data/hotel.json';\n  const { width } = useWindowSize();\n  const [showMap, setShowMap] = useState(false);\n  const { data, loading, loadMoreData, total, limit } = useDataApi(url);\n  let columnWidth = [1 / 1, 1 / 2, 1 / 3, 1 / 4, 1 / 5];\n\n  if (location.search) {\n    url += location.search;\n  }\n\n  if (showMap) {\n    columnWidth = [1 / 1, 1 / 2, 1 / 2, 1 / 2, 1 / 3];\n  }\n\n  const handleMapToggle = () => {\n    setShowMap(showMap => !showMap);\n  };\n\n  return (\n    <ListingWrapper>\n      <Sticky top={82} innerZ={999} activeClass=\"isHeaderSticky\">\n        <Toolbar\n          left={\n            width > 991 ? (\n              <CategotySearch history={history} location={location} />\n            ) : (\n              <FilterDrawer history={history} location={location} />\n            )\n          }\n          right={\n            <ShowMapCheckbox>\n              <Checkbox defaultChecked={false} onChange={handleMapToggle}>\n                Show map\n              </Checkbox>\n            </ShowMapCheckbox>\n          }\n        />\n      </Sticky>\n\n      <Fragment>\n        <PostsWrapper className={width > 767 && showMap ? 'col-12' : 'col-24'}>\n          <SectionGrid\n            link={SINGLE_POST_PAGE}\n            columnWidth={columnWidth}\n            data={data}\n            totalItem={total.length}\n            loading={loading}\n            limit={limit}\n            handleLoadMore={loadMoreData}\n            placeholder={<PostPlaceholder />}\n          />\n        </PostsWrapper>\n\n        {showMap && <ListingMap />}\n      </Fragment>\n    </ListingWrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}