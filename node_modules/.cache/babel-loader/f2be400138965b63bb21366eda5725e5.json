{"ast":null,"code":"import _objectSpread from \"/Users/proprietaire/Desktop/PWA-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/proprietaire/Desktop/PWA-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/proprietaire/Desktop/PWA-master/src/components/Search/CategorySearch/CategotySearch.js\";\nimport React, { useState } from 'react';\nimport moment from 'moment';\nimport Button from 'components/UI/Antd/Button/Button';\nimport Slider from 'components/UI/Antd/Slider/Slider';\nimport Checkbox from 'components/UI/Antd/Checkbox/Checkbox';\nimport ViewWithPopup from 'components/UI/ViewWithPopup/ViewWithPopup';\nimport InputIncDec from 'components/UI/InputIncDec/InputIncDec';\nimport DateRangePickerBox from 'components/UI/DatePicker/ReactDates';\nimport { setStateToUrl, getStateFromUrl } from '../url_handler';\nimport { priceInit, calenderItem, getAmenities, getPropertyType } from '../SearchParams';\nimport CategroySearchWrapper, { RoomGuestWrapper, ItemWrapper, ActionWrapper } from './CategorySearch.style';\n\nconst CategotySearch = ({\n  history,\n  location\n}) => {\n  const searchParams = getStateFromUrl(location);\n  const state = {\n    amenities: searchParams.amenities || [],\n    property: searchParams.property || [],\n    date_range: searchParams.date_range || {\n      setStartDate: null,\n      setEndDate: null\n    },\n    price: searchParams.price || {\n      min: 0,\n      max: 100,\n      defaultMin: 0,\n      defaultMax: 100\n    },\n    location: searchParams.location || {\n      lat: null,\n      lng: null\n    },\n    room: parseInt(searchParams.room) || 0,\n    guest: parseInt(searchParams.guest) || 0\n  };\n  const amenities = state.amenities,\n        property = state.property,\n        date_range = state.date_range,\n        price = state.price,\n        room = state.room,\n        guest = state.guest;\n\n  const _useState = useState(room),\n        _useState2 = _slicedToArray(_useState, 2),\n        countRoom = _useState2[0],\n        setRoom = _useState2[1];\n\n  const _useState3 = useState(guest),\n        _useState4 = _slicedToArray(_useState3, 2),\n        countGuest = _useState4[0],\n        setGuest = _useState4[1];\n\n  const _onChange = (value, type) => {\n    const query = _objectSpread({}, state, {\n      [type]: value\n    });\n\n    const search = setStateToUrl(query);\n    history.push({\n      pathname: '/listing',\n      search: search\n    });\n  };\n\n  const handleRoomGuestApply = () => {\n    const query = _objectSpread({}, state, {\n      room: countRoom,\n      guest: countGuest\n    });\n\n    const search = setStateToUrl(query);\n    history.push({\n      pathname: '/listing',\n      search: search\n    });\n  };\n\n  const handleRoomGuestCancel = () => {\n    setRoom(0);\n    setGuest(0);\n\n    const query = _objectSpread({}, state, {\n      room: 0,\n      guest: 0\n    });\n\n    const search = setStateToUrl(query);\n    history.push({\n      pathname: '/listing',\n      search: search\n    });\n  };\n\n  const onSearchReset = () => {\n    setRoom(0);\n    setGuest(0);\n    const search = setStateToUrl({\n      reset: ''\n    });\n    history.push({\n      pathname: '/listing',\n      search: search\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(CategroySearchWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ViewWithPopup, {\n    className: amenities.length ? 'activated' : '',\n    key: getAmenities.id,\n    noView: true,\n    view: /*#__PURE__*/React.createElement(Button, {\n      type: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }, getAmenities.name, amenities.length > 0 && \": \".concat(amenities.length)),\n    popup: /*#__PURE__*/React.createElement(Checkbox.Group, {\n      options: getAmenities.options,\n      defaultValue: amenities,\n      onChange: value => _onChange(value, 'amenities'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ViewWithPopup, {\n    className: property.length ? 'activated' : '',\n    key: getPropertyType.id,\n    noView: true,\n    view: /*#__PURE__*/React.createElement(Button, {\n      type: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, getPropertyType.name, property.length > 0 && \": \".concat(property.length)),\n    popup: /*#__PURE__*/React.createElement(Checkbox.Group, {\n      options: getPropertyType.options,\n      defaultValue: property,\n      onChange: value => _onChange(value, 'property'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ViewWithPopup, {\n    className: Object.keys('date_range').length !== null && date_range.setStartDate !== null ? 'activated' : '',\n    key: 400,\n    noView: true,\n    view: /*#__PURE__*/React.createElement(Button, {\n      type: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    }, \"Choose Date\"),\n    popup: /*#__PURE__*/React.createElement(DateRangePickerBox, {\n      startDateId: \"startDate-id-category\",\n      endDateId: \"endDate-id-category\",\n      startDate: date_range.setStartDate ? moment(date_range.setStartDate) : null,\n      endDate: date_range.setEndDate ? moment(date_range.setEndDate) : null,\n      numberOfMonths: 1,\n      small: true,\n      item: calenderItem,\n      updateSearchData: value => _onChange(value, 'date_range'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ViewWithPopup, {\n    className: price.min === price.defaultMin && price.max === price.defaultMax ? '' : 'activated',\n    key: 300,\n    noView: true,\n    view: /*#__PURE__*/React.createElement(Button, {\n      type: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }\n    }, price.min > 0 || price.max < 100 ? \"Price: \".concat(price.min, \", \").concat(price.max) : \"Price per night\"),\n    popup: /*#__PURE__*/React.createElement(Slider, {\n      range: true,\n      marks: priceInit,\n      min: price.defaultMin,\n      max: price.defaultMax,\n      defaultValue: [price.min, price.max],\n      onAfterChange: value => _onChange(value, 'price'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ViewWithPopup, {\n    key: 200,\n    noView: true,\n    className: countRoom || countGuest ? 'activated' : '',\n    view: /*#__PURE__*/React.createElement(Button, {\n      type: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }\n    }, \"Room \", countRoom > 0 && \": \".concat(countRoom), \", Guest\", countGuest > 0 && \": \".concat(countGuest)),\n    popup: /*#__PURE__*/React.createElement(RoomGuestWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ItemWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 15\n      }\n    }, \"Room\"), /*#__PURE__*/React.createElement(InputIncDec, {\n      id: \"room\",\n      increment: () => setRoom(countRoom => countRoom + 1),\n      decrement: () => setRoom(countRoom => countRoom > 0 && countRoom - 1),\n      onChange: e => setRoom(e.target.value),\n      value: countRoom,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(ItemWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 15\n      }\n    }, \"Guest\"), /*#__PURE__*/React.createElement(InputIncDec, {\n      id: \"guest\",\n      increment: () => setGuest(countGuest => countGuest + 1),\n      decrement: () => setGuest(countGuest => countGuest > 0 && countGuest - 1),\n      onChange: e => setGuest(e.target.value),\n      value: countGuest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(ActionWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }, countRoom || countGuest ? /*#__PURE__*/React.createElement(Button, {\n      type: \"default\",\n      onClick: handleRoomGuestCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }\n    }, \"Clear\") : '', /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onClick: handleRoomGuestApply,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 15\n      }\n    }, \"Apply\"))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"view_with__popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup_handler\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"default\",\n    onClick: onSearchReset,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 11\n    }\n  }, \"Reset\"))));\n};\n\nexport default CategotySearch;","map":{"version":3,"sources":["/Users/proprietaire/Desktop/PWA-master/src/components/Search/CategorySearch/CategotySearch.js"],"names":["React","useState","moment","Button","Slider","Checkbox","ViewWithPopup","InputIncDec","DateRangePickerBox","setStateToUrl","getStateFromUrl","priceInit","calenderItem","getAmenities","getPropertyType","CategroySearchWrapper","RoomGuestWrapper","ItemWrapper","ActionWrapper","CategotySearch","history","location","searchParams","state","amenities","property","date_range","setStartDate","setEndDate","price","min","max","defaultMin","defaultMax","lat","lng","room","parseInt","guest","countRoom","setRoom","countGuest","setGuest","onChange","value","type","query","search","push","pathname","handleRoomGuestApply","handleRoomGuestCancel","onSearchReset","reset","length","id","name","options","Object","keys","e","target"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport moment from 'moment';\nimport Button from 'components/UI/Antd/Button/Button';\nimport Slider from 'components/UI/Antd/Slider/Slider';\nimport Checkbox from 'components/UI/Antd/Checkbox/Checkbox';\nimport ViewWithPopup from 'components/UI/ViewWithPopup/ViewWithPopup';\nimport InputIncDec from 'components/UI/InputIncDec/InputIncDec';\nimport DateRangePickerBox from 'components/UI/DatePicker/ReactDates';\nimport { setStateToUrl, getStateFromUrl } from '../url_handler';\nimport {\n  priceInit,\n  calenderItem,\n  getAmenities,\n  getPropertyType,\n} from '../SearchParams';\nimport CategroySearchWrapper, {\n  RoomGuestWrapper,\n  ItemWrapper,\n  ActionWrapper,\n} from './CategorySearch.style';\n\nconst CategotySearch = ({ history, location }) => {\n  const searchParams = getStateFromUrl(location);\n  const state = {\n    amenities: searchParams.amenities || [],\n    property: searchParams.property || [],\n    date_range: searchParams.date_range || {\n      setStartDate: null,\n      setEndDate: null,\n    },\n    price: searchParams.price || {\n      min: 0,\n      max: 100,\n      defaultMin: 0,\n      defaultMax: 100,\n    },\n    location: searchParams.location || {\n      lat: null,\n      lng: null,\n    },\n    room: parseInt(searchParams.room) || 0,\n    guest: parseInt(searchParams.guest) || 0,\n  };\n  const { amenities, property, date_range, price, room, guest } = state;\n  const [countRoom, setRoom] = useState(room);\n  const [countGuest, setGuest] = useState(guest);\n\n  const onChange = (value, type) => {\n    const query = {\n      ...state,\n      [type]: value,\n    };\n    const search = setStateToUrl(query);\n    history.push({\n      pathname: '/listing',\n      search: search,\n    });\n  };\n\n  const handleRoomGuestApply = () => {\n    const query = {\n      ...state,\n      room: countRoom,\n      guest: countGuest,\n    };\n    const search = setStateToUrl(query);\n    history.push({\n      pathname: '/listing',\n      search: search,\n    });\n  };\n\n  const handleRoomGuestCancel = () => {\n    setRoom(0);\n    setGuest(0);\n    const query = {\n      ...state,\n      room: 0,\n      guest: 0,\n    };\n    const search = setStateToUrl(query);\n    history.push({\n      pathname: '/listing',\n      search: search,\n    });\n  };\n\n  const onSearchReset = () => {\n    setRoom(0);\n    setGuest(0);\n    const search = setStateToUrl({ reset: '' });\n    history.push({\n      pathname: '/listing',\n      search: search,\n    });\n  };\n\n  return (\n    <CategroySearchWrapper>\n      <ViewWithPopup\n        className={amenities.length ? 'activated' : ''}\n        key={getAmenities.id}\n        noView={true}\n        view={\n          <Button type=\"default\">\n            {getAmenities.name}\n            {amenities.length > 0 && `: ${amenities.length}`}\n          </Button>\n        }\n        popup={\n          <Checkbox.Group\n            options={getAmenities.options}\n            defaultValue={amenities}\n            onChange={value => onChange(value, 'amenities')}\n          />\n        }\n      />\n\n      <ViewWithPopup\n        className={property.length ? 'activated' : ''}\n        key={getPropertyType.id}\n        noView={true}\n        view={\n          <Button type=\"default\">\n            {getPropertyType.name}\n            {property.length > 0 && `: ${property.length}`}\n          </Button>\n        }\n        popup={\n          <Checkbox.Group\n            options={getPropertyType.options}\n            defaultValue={property}\n            onChange={value => onChange(value, 'property')}\n          />\n        }\n      />\n\n      <ViewWithPopup\n        className={\n          Object.keys('date_range').length !== null &&\n          date_range.setStartDate !== null\n            ? 'activated'\n            : ''\n        }\n        key={400}\n        noView={true}\n        view={<Button type=\"default\">Choose Date</Button>}\n        popup={\n          <DateRangePickerBox\n            startDateId=\"startDate-id-category\"\n            endDateId=\"endDate-id-category\"\n            startDate={\n              date_range.setStartDate ? moment(date_range.setStartDate) : null\n            }\n            endDate={\n              date_range.setEndDate ? moment(date_range.setEndDate) : null\n            }\n            numberOfMonths={1}\n            small={true}\n            item={calenderItem}\n            updateSearchData={value => onChange(value, 'date_range')}\n          />\n        }\n      />\n\n      <ViewWithPopup\n        className={\n          price.min === price.defaultMin && price.max === price.defaultMax\n            ? ''\n            : 'activated'\n        }\n        key={300}\n        noView={true}\n        view={\n          <Button type=\"default\">\n            {price.min > 0 || price.max < 100\n              ? `Price: ${price.min}, ${price.max}`\n              : `Price per night`}\n          </Button>\n        }\n        popup={\n          <Slider\n            range\n            marks={priceInit}\n            min={price.defaultMin}\n            max={price.defaultMax}\n            defaultValue={[price.min, price.max]}\n            onAfterChange={value => onChange(value, 'price')}\n          />\n        }\n      />\n\n      <ViewWithPopup\n        key={200}\n        noView={true}\n        className={countRoom || countGuest ? 'activated' : ''}\n        view={\n          <Button type=\"default\">\n            Room {countRoom > 0 && `: ${countRoom}`}, Guest\n            {countGuest > 0 && `: ${countGuest}`}\n          </Button>\n        }\n        popup={\n          <RoomGuestWrapper>\n            <ItemWrapper>\n              <strong>Room</strong>\n              <InputIncDec\n                id=\"room\"\n                increment={() => setRoom(countRoom => countRoom + 1)}\n                decrement={() =>\n                  setRoom(countRoom => countRoom > 0 && countRoom - 1)\n                }\n                onChange={e => setRoom(e.target.value)}\n                value={countRoom}\n              />\n            </ItemWrapper>\n\n            <ItemWrapper>\n              <strong>Guest</strong>\n              <InputIncDec\n                id=\"guest\"\n                increment={() => setGuest(countGuest => countGuest + 1)}\n                decrement={() =>\n                  setGuest(countGuest => countGuest > 0 && countGuest - 1)\n                }\n                onChange={e => setGuest(e.target.value)}\n                value={countGuest}\n              />\n            </ItemWrapper>\n\n            <ActionWrapper>\n              {countRoom || countGuest ? (\n                <Button type=\"default\" onClick={handleRoomGuestCancel}>\n                  Clear\n                </Button>\n              ) : (\n                ''\n              )}\n              <Button type=\"primary\" onClick={handleRoomGuestApply}>\n                Apply\n              </Button>\n            </ActionWrapper>\n          </RoomGuestWrapper>\n        }\n      />\n      <div className=\"view_with__popup\">\n        <div className=\"popup_handler\">\n          <Button type=\"default\" onClick={onSearchReset}>\n            Reset\n          </Button>\n        </div>\n      </div>\n    </CategroySearchWrapper>\n  );\n};\n\nexport default CategotySearch;\n"]},"metadata":{},"sourceType":"module"}